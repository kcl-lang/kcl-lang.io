---
slug: 2024-06-12-newsletter
title: KCL æœ€æ–°åŠ¨æ€é€Ÿé€’ (2024.05.30 - 2024.06.12)
authors:
  name: KCL å›¢é˜Ÿ
  title: KCL å›¢é˜Ÿ
tags: [KCL, Newsletter]
image: /img/biweekly-newsletter.png
---

![](/img/biweekly-newsletter-zh.png)

[KCL](https://github.com/kcl-lang) æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚

æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼

**_KCL å®˜ç½‘ï¼š[https://kcl-lang.io](https://kcl-lang.io)_**

## ç‰¹åˆ«é¸£è°¢

æ„Ÿè°¢è¿‡å»ä¸¤å‘¨æ‰€æœ‰çš„ç¤¾åŒºå‚ä¸è€…ï¼Œä»¥ä¸‹æ’åä¸åˆ†å…ˆå

- æ„Ÿè°¢ @shruti2522 å¯¹ KCL IDE string union type ç±»å‹å˜é‡è¡¥å…¨å’Œå‡½æ•°ç¬¦å·é«˜äº®çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @ihor-hrytskiv å¯¹ `jsonpatch` æ¨¡å—çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @selfuryon å¯¹ KCL Nix Package çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @nestoralonso å¯¹ ArgoCD KCL æ’ä»¶çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @Vishalk91-4 å¯¹ KCL tree-sitter-grammar çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @Daksh-10 å¯¹ KCL tree-sitter-grammar çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @officialasishkumar å¯¹ kcl.mod æ–‡ä»¶åºåˆ—åŒ–/ååºåˆ—åŒ– API çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @d4v1d03 å¯¹ KCL FAQ æ–‡æ¡£çš„è´¡çŒ® ğŸ™Œ
- æ„Ÿè°¢ @liangyuanpeng, @atelsier, @mproffitt, @steeling, @eshepelyuk, @SjuulJanssen, @riven-blade, @excalq, @Wck-iipi, @Yvan da Silva, @Hai Wu ç­‰åœ¨è¿‘æ®µæ—¶é—´ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æä¾›çš„å®è´µå»ºè®®ä¸åé¦ˆ ğŸ™Œ

## å†…å®¹æ¦‚è¿°

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸€æ®µæ—¶é—´ (2024.05.30 - 2024.06.12) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°

**ğŸ“¦ï¸ ä¸‰æ–¹åº“æ›´æ–°**

- jsonpatch ä¸‰æ–¹åº“å‘å¸ƒ 0.0.4 ç‰ˆæœ¬ï¼Œä¿®å¤ `set_obj` å‡½æ•°éé¢„æœŸçš„é”™è¯¯

å¯ä»¥é€šè¿‡ `kcl mod add jsonpatch` æ·»åŠ  `jsonpatch` æœ€æ–°ä¾èµ–ã€‚

ä½¿ç”¨æ–¹å¼å¦‚ä¸‹

```python
import jsonpatch as p

test_json_patch = lambda {
    data = {
        "firstName": "John",
        "lastName": "Doe",
        "age": 30,
        "address": {
            "streetAddress": "1234 Main St",
            "city": "New York",
            "state": "NY",
            "postalCode": "10001"
        },
        "phoneNumbers": [
            {
                "type": "home",
                "number": "212-555-1234"
            },
            {
                "type": "work",
                "number": "646-555-5678"
            }
        ]
    }
    phoneNumbers0type: str = p.get_obj(data, "phoneNumbers/0/type")
    addressCity: str = p.get_obj(data, "address/city")
    newType = p.set_obj(data, "phoneNumbers/0/type", "school")
    newState = p.set_obj(data, "address/state", "WA")
    assert phoneNumbers0type == "home"
    assert addressCity == "New York"
    assert newType["phoneNumbers"][0]["type"] == "school"
    assert newState["address"]["state"] == "WA"
}

test_json_patch()
```

**ğŸ„ è¯­è¨€æ›´æ–°**

- ä¿®å¤ schema æ’å…¥å±æ€§è¿ç®—ç¬¦ `+=` åœ¨é…ç½®åˆå¹¶æ—¶çš„é”™è¯¯
- ä¼˜åŒ–å¤šè¡Œå­—ç¬¦ä¸²æ’å€¼å˜é‡æœªå®šä¹‰é”™è¯¯ä¿¡æ¯

**ğŸ’» IDE æ›´æ–°**

- æ”¯æŒ kcl.mod æ–‡ä»¶å’Œ kcl.mod.lock æ–‡ä»¶çš„é«˜äº®
- æ”¯æŒé€šè¿‡ VS Code Command é‡å¯ kcl-language-server å‘½ä»¤
- æ”¹è¿›äº†å½“ kcl-language-server ä¸å­˜åœ¨æ—¶çš„æç¤ºä¿¡æ¯
- æ”¯æŒå­—ç¬¦ä¸²è”åˆç±»å‹çš„æˆå‘˜è¡¥å…¨
- æ–°å¢å‡½æ•°ç¬¦å·çš„é«˜äº®ï¼ŒåŒºåˆ†æ™®é€šå˜é‡å’Œå‡½æ•°å˜é‡

**ğŸ“¬ï¸ å·¥å…·é“¾æ›´æ–°**

- `kcl import` å¯¼å…¥å·¥å…·æ”¯æŒä» toml åˆ° KCL é…ç½®çš„è½¬æ¢
- `kcl import` å¯¼å…¥å·¥å…·æ”¯æŒ YAML Stream æ ¼å¼è¾“å…¥å¹¶è½¬æ¢ä¸º KCL é…ç½®
- `kcl run` æ”¯æŒè¾“å‡º toml æ ¼å¼
- `kcl run` å’Œ `kcl mod` å‘½ä»¤æ”¯æŒä½¿ç”¨ `-q` æ ‡å¿—ç¦ç”¨é¢å¤–æ¶ˆæ¯è¾“å‡º
- `kcl mod add` å‘½ä»¤ä¼˜åŒ–ä¸‹è½½è¿‡ç¨‹ï¼Œé˜²æ­¢è¢«æ„å¤–ä¸­æ–­å¯¼è‡´æ— æ³•ä¸‹è½½åŒ…çš„é”™è¯¯
- `kcl mod add` æ”¯æŒä»ä¸åŒçš„ OCI å’Œ Git æºæ·»åŠ ä¾èµ–

**â›µï¸ API æ›´æ–°**

- æ”¯æŒ prototext æ ¼å¼å’Œ KCL schema è¾“å‡ºä¸º KCL é…ç½®
- æ”¯æŒä»»æ„ Go ç±»å‹åºåˆ—åŒ–ä¸º KCL é…ç½®
- `ListVariables` API æ”¯æŒå¤šæ–‡ä»¶è¾“å…¥ä¸é…ç½®åˆå¹¶è¾“å‡º

**ğŸ”¥ SDK æ›´æ–°**

- æ–°å¢ KCL WASM æ¨¡å—ï¼Œæ”¯æŒåœ¨ Rust ä¸­ä½¿ç”¨ wasmtime æˆ– Node.js ç­‰è¿è¡Œæ—¶ä½¿ç”¨ KCL WASM æ¨¡å—ç¼–è¯‘ KCL ä»£ç ï¼Œä½¿ç”¨æ–¹å¼è¯¦è§: [https://www.kcl-lang.io/docs/reference/xlang-api/wasm-api](https://www.kcl-lang.io/docs/reference/xlang-api/wasm-api)ï¼Œåç»­ä¼šæ”¯æŒ KCL åœ¨çº¯æµè§ˆå™¨ç¯å¢ƒè¿è¡Œã€‚

## å…¶ä»–èµ„æº

â¤ï¸ æŸ¥çœ‹ _[KCL ç¤¾åŒº](https://github.com/kcl-lang/community)_ åŠ å…¥æˆ‘ä»¬ã€‚

æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š

- [KCL ç½‘ç«™](https://kcl-lang.io/)
- [KusionStack ç½‘ç«™](https://kusionstack.io/)
